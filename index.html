<!DOCTYPE html>
<html>

<head>
    <title>PWA</title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#3367D6">

    <link rel="manifest" href="manifest.json">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
	
</head>

<body>
    <p>
        This works !!!!
    </p>
    <script type="text/javascript">
      let deferredPrompt;

      window.addEventListener('beforeinstallprompt', (e) => {
        // Prevent Chrome 67 and earlier from automatically showing the prompt
        e.preventDefault();
        // Stash the event so it can be triggered later.
        deferredPrompt = e;
        btnAdd.style.display = 'block';
      });

      btnAdd.addEventListener('click', (e) => {
        // hide our user interface that shows our A2HS button
        btnAdd.style.display = 'none';
        // Show the prompt
        deferredPrompt.prompt();
        // Wait for the user to respond to the prompt
        deferredPrompt.userChoice
          .then((choiceResult) => {
            if (choiceResult.outcome === 'accepted') {
              console.log('User accepted the A2HS prompt');
            } else {
              console.log('User dismissed the A2HS prompt');
            }
            deferredPrompt = null;
          });
      });
    </script>

    <script>
          if('serviceWorker' in navigator) {
          	console.log("I support serviceWorker")
            navigator.serviceWorker.register('sw.js')
              .then(function() {
                    console.log('Service Worker Registered');
              }, error => {
              	console.log(error)
              });
          }
        </script>
</body>

</html>